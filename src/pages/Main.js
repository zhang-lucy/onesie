import React, { Component } from 'react';
import img_1z from "../imgs/1z.png";
import img_1z_2z from "../imgs/1z_2z.png";
import img_1z_2z_3z from "../imgs/1z_2z_3z.png";
import img_1z_2z_3z_4z from "../imgs/1z_2z_3z_4z.png";
import img_1z_2z_3z_4z_5z from "../imgs/1z_2z_3z_4z_5z.png";
import img_1z_2z_3z_4z_5z_6z from "../imgs/1z_2z_3z_4z_5z_6z.png";
import img_1z_2z_3z_4z_5z_6z_7z from "../imgs/1z_2z_3z_4z_5z_6z_7z.png";
import img_1z_2z_3z_4z_5z_7z from "../imgs/1z_2z_3z_4z_5z_7z.png";
import img_1z_2z_3z_4z_6z from "../imgs/1z_2z_3z_4z_6z.png";
import img_1z_2z_3z_4z_6z_7z from "../imgs/1z_2z_3z_4z_6z_7z.png";
import img_1z_2z_3z_4z_7z from "../imgs/1z_2z_3z_4z_7z.png";
import img_1z_2z_3z_5z from "../imgs/1z_2z_3z_5z.png";
import img_1z_2z_3z_5z_6z from "../imgs/1z_2z_3z_5z_6z.png";
import img_1z_2z_3z_5z_6z_7z from "../imgs/1z_2z_3z_5z_6z_7z.png";
import img_1z_2z_3z_5z_7z from "../imgs/1z_2z_3z_5z_7z.png";
import img_1z_2z_3z_6z from "../imgs/1z_2z_3z_6z.png";
import img_1z_2z_3z_6z_7z from "../imgs/1z_2z_3z_6z_7z.png";
import img_1z_2z_3z_7z from "../imgs/1z_2z_3z_7z.png";
import img_1z_2z_4z from "../imgs/1z_2z_4z.png";
import img_1z_2z_4z_5z from "../imgs/1z_2z_4z_5z.png";
import img_1z_2z_4z_5z_6z from "../imgs/1z_2z_4z_5z_6z.png";
import img_1z_2z_4z_5z_6z_7z from "../imgs/1z_2z_4z_5z_6z_7z.png";
import img_1z_2z_4z_5z_7z from "../imgs/1z_2z_4z_5z_7z.png";
import img_1z_2z_4z_6z from "../imgs/1z_2z_4z_6z.png";
import img_1z_2z_4z_6z_7z from "../imgs/1z_2z_4z_6z_7z.png";
import img_1z_2z_4z_7z from "../imgs/1z_2z_4z_7z.png";
import img_1z_2z_5z from "../imgs/1z_2z_5z.png";
import img_1z_2z_5z_6z from "../imgs/1z_2z_5z_6z.png";
import img_1z_2z_5z_6z_7z from "../imgs/1z_2z_5z_6z_7z.png";
import img_1z_2z_5z_7z from "../imgs/1z_2z_5z_7z.png";
import img_1z_2z_6z from "../imgs/1z_2z_6z.png";
import img_1z_2z_6z_7z from "../imgs/1z_2z_6z_7z.png";
import img_1z_2z_7z from "../imgs/1z_2z_7z.png";
import img_1z_3z from "../imgs/1z_3z.png";
import img_1z_3z_4z from "../imgs/1z_3z_4z.png";
import img_1z_3z_4z_5z from "../imgs/1z_3z_4z_5z.png";
import img_1z_3z_4z_5z_6z from "../imgs/1z_3z_4z_5z_6z.png";
import img_1z_3z_4z_5z_6z_7z from "../imgs/1z_3z_4z_5z_6z_7z.png";
import img_1z_3z_4z_5z_7z from "../imgs/1z_3z_4z_5z_7z.png";
import img_1z_3z_4z_6z from "../imgs/1z_3z_4z_6z.png";
import img_1z_3z_4z_6z_7z from "../imgs/1z_3z_4z_6z_7z.png";
import img_1z_3z_4z_7z from "../imgs/1z_3z_4z_7z.png";
import img_1z_3z_5z from "../imgs/1z_3z_5z.png";
import img_1z_3z_5z_6z from "../imgs/1z_3z_5z_6z.png";
import img_1z_3z_5z_6z_7z from "../imgs/1z_3z_5z_6z_7z.png";
import img_1z_3z_5z_7z from "../imgs/1z_3z_5z_7z.png";
import img_1z_3z_6z from "../imgs/1z_3z_6z.png";
import img_1z_3z_6z_7z from "../imgs/1z_3z_6z_7z.png";
import img_1z_3z_7z from "../imgs/1z_3z_7z.png";
import img_1z_4z from "../imgs/1z_4z.png";
import img_1z_4z_5z from "../imgs/1z_4z_5z.png";
import img_1z_4z_5z_6z from "../imgs/1z_4z_5z_6z.png";
import img_1z_4z_5z_6z_7z from "../imgs/1z_4z_5z_6z_7z.png";
import img_1z_4z_5z_7z from "../imgs/1z_4z_5z_7z.png";
import img_1z_4z_6z from "../imgs/1z_4z_6z.png";
import img_1z_4z_6z_7z from "../imgs/1z_4z_6z_7z.png";
import img_1z_4z_7z from "../imgs/1z_4z_7z.png";
import img_1z_5z from "../imgs/1z_5z.png";
import img_1z_5z_6z from "../imgs/1z_5z_6z.png";
import img_1z_5z_6z_7z from "../imgs/1z_5z_6z_7z.png";
import img_1z_5z_7z from "../imgs/1z_5z_7z.png";
import img_1z_6z from "../imgs/1z_6z.png";
import img_1z_6z_7z from "../imgs/1z_6z_7z.png";
import img_1z_7z from "../imgs/1z_7z.png";
import img_2z from "../imgs/2z.png";
import img_2z_3z from "../imgs/2z_3z.png";
import img_2z_3z_4z from "../imgs/2z_3z_4z.png";
import img_2z_3z_4z_5z from "../imgs/2z_3z_4z_5z.png";
import img_2z_3z_4z_5z_6z from "../imgs/2z_3z_4z_5z_6z.png";
import img_2z_3z_4z_5z_6z_7z from "../imgs/2z_3z_4z_5z_6z_7z.png";
import img_2z_3z_4z_5z_7z from "../imgs/2z_3z_4z_5z_7z.png";
import img_2z_3z_4z_6z from "../imgs/2z_3z_4z_6z.png";
import img_2z_3z_4z_6z_7z from "../imgs/2z_3z_4z_6z_7z.png";
import img_2z_3z_4z_7z from "../imgs/2z_3z_4z_7z.png";
import img_2z_3z_5z from "../imgs/2z_3z_5z.png";
import img_2z_3z_5z_6z from "../imgs/2z_3z_5z_6z.png";
import img_2z_3z_5z_6z_7z from "../imgs/2z_3z_5z_6z_7z.png";
import img_2z_3z_5z_7z from "../imgs/2z_3z_5z_7z.png";
import img_2z_3z_6z from "../imgs/2z_3z_6z.png";
import img_2z_3z_6z_7z from "../imgs/2z_3z_6z_7z.png";
import img_2z_3z_7z from "../imgs/2z_3z_7z.png";
import img_2z_4z from "../imgs/2z_4z.png";
import img_2z_4z_5z from "../imgs/2z_4z_5z.png";
import img_2z_4z_5z_6z from "../imgs/2z_4z_5z_6z.png";
import img_2z_4z_5z_6z_7z from "../imgs/2z_4z_5z_6z_7z.png";
import img_2z_4z_5z_7z from "../imgs/2z_4z_5z_7z.png";
import img_2z_4z_6z from "../imgs/2z_4z_6z.png";
import img_2z_4z_6z_7z from "../imgs/2z_4z_6z_7z.png";
import img_2z_4z_7z from "../imgs/2z_4z_7z.png";
import img_2z_5z from "../imgs/2z_5z.png";
import img_2z_5z_6z from "../imgs/2z_5z_6z.png";
import img_2z_5z_6z_7z from "../imgs/2z_5z_6z_7z.png";
import img_2z_5z_7z from "../imgs/2z_5z_7z.png";
import img_2z_6z from "../imgs/2z_6z.png";
import img_2z_6z_7z from "../imgs/2z_6z_7z.png";
import img_2z_7z from "../imgs/2z_7z.png";
import img_3z from "../imgs/3z.png";
import img_3z_4z from "../imgs/3z_4z.png";
import img_3z_4z_5z from "../imgs/3z_4z_5z.png";
import img_3z_4z_5z_6z from "../imgs/3z_4z_5z_6z.png";
import img_3z_4z_5z_6z_7z from "../imgs/3z_4z_5z_6z_7z.png";
import img_3z_4z_5z_7z from "../imgs/3z_4z_5z_7z.png";
import img_3z_4z_6z from "../imgs/3z_4z_6z.png";
import img_3z_4z_6z_7z from "../imgs/3z_4z_6z_7z.png";
import img_3z_4z_7z from "../imgs/3z_4z_7z.png";
import img_3z_5z from "../imgs/3z_5z.png";
import img_3z_5z_6z from "../imgs/3z_5z_6z.png";
import img_3z_5z_6z_7z from "../imgs/3z_5z_6z_7z.png";
import img_3z_5z_7z from "../imgs/3z_5z_7z.png";
import img_3z_6z from "../imgs/3z_6z.png";
import img_3z_6z_7z from "../imgs/3z_6z_7z.png";
import img_3z_7z from "../imgs/3z_7z.png";
import img_4z from "../imgs/4z.png";
import img_4z_5z from "../imgs/4z_5z.png";
import img_4z_5z_6z from "../imgs/4z_5z_6z.png";
import img_4z_5z_6z_7z from "../imgs/4z_5z_6z_7z.png";
import img_4z_5z_7z from "../imgs/4z_5z_7z.png";
import img_4z_6z from "../imgs/4z_6z.png";
import img_4z_6z_7z from "../imgs/4z_6z_7z.png";
import img_4z_7z from "../imgs/4z_7z.png";
import img_5z from "../imgs/5z.png";
import img_5z_6z from "../imgs/5z_6z.png";
import img_5z_6z_7z from "../imgs/5z_6z_7z.png";
import img_5z_7z from "../imgs/5z_7z.png";
import img_6z from "../imgs/6z.png";
import img_6z_7z from "../imgs/6z_7z.png";
import img_7z from "../imgs/7z.png";
import img_none_z from "../imgs/none_z.png";

import Sidebar from "react-sidebar";
import ToggleButton from '../components/ToggleButton';
import "./Main.css";

const IMGS = {"1z": img_1z, "1z_2z": img_1z_2z, "1z_2z_3z": img_1z_2z_3z, "1z_2z_3z_4z": img_1z_2z_3z_4z, "1z_2z_3z_4z_5z": img_1z_2z_3z_4z_5z, "1z_2z_3z_4z_5z_6z": img_1z_2z_3z_4z_5z_6z, "1z_2z_3z_4z_5z_6z_7z": img_1z_2z_3z_4z_5z_6z_7z, "1z_2z_3z_4z_5z_7z": img_1z_2z_3z_4z_5z_7z, "1z_2z_3z_4z_6z": img_1z_2z_3z_4z_6z, "1z_2z_3z_4z_6z_7z": img_1z_2z_3z_4z_6z_7z, "1z_2z_3z_4z_7z": img_1z_2z_3z_4z_7z, "1z_2z_3z_5z": img_1z_2z_3z_5z, "1z_2z_3z_5z_6z": img_1z_2z_3z_5z_6z, "1z_2z_3z_5z_6z_7z": img_1z_2z_3z_5z_6z_7z, "1z_2z_3z_5z_7z": img_1z_2z_3z_5z_7z, "1z_2z_3z_6z": img_1z_2z_3z_6z, "1z_2z_3z_6z_7z": img_1z_2z_3z_6z_7z, "1z_2z_3z_7z": img_1z_2z_3z_7z, "1z_2z_4z": img_1z_2z_4z, "1z_2z_4z_5z": img_1z_2z_4z_5z, "1z_2z_4z_5z_6z": img_1z_2z_4z_5z_6z, "1z_2z_4z_5z_6z_7z": img_1z_2z_4z_5z_6z_7z, "1z_2z_4z_5z_7z": img_1z_2z_4z_5z_7z, "1z_2z_4z_6z": img_1z_2z_4z_6z, "1z_2z_4z_6z_7z": img_1z_2z_4z_6z_7z, "1z_2z_4z_7z": img_1z_2z_4z_7z, "1z_2z_5z": img_1z_2z_5z, "1z_2z_5z_6z": img_1z_2z_5z_6z, "1z_2z_5z_6z_7z": img_1z_2z_5z_6z_7z, "1z_2z_5z_7z": img_1z_2z_5z_7z, "1z_2z_6z": img_1z_2z_6z, "1z_2z_6z_7z": img_1z_2z_6z_7z, "1z_2z_7z": img_1z_2z_7z, "1z_3z": img_1z_3z, "1z_3z_4z": img_1z_3z_4z, "1z_3z_4z_5z": img_1z_3z_4z_5z, "1z_3z_4z_5z_6z": img_1z_3z_4z_5z_6z, "1z_3z_4z_5z_6z_7z": img_1z_3z_4z_5z_6z_7z, "1z_3z_4z_5z_7z": img_1z_3z_4z_5z_7z, "1z_3z_4z_6z": img_1z_3z_4z_6z, "1z_3z_4z_6z_7z": img_1z_3z_4z_6z_7z, "1z_3z_4z_7z": img_1z_3z_4z_7z, "1z_3z_5z": img_1z_3z_5z, "1z_3z_5z_6z": img_1z_3z_5z_6z, "1z_3z_5z_6z_7z": img_1z_3z_5z_6z_7z, "1z_3z_5z_7z": img_1z_3z_5z_7z, "1z_3z_6z": img_1z_3z_6z, "1z_3z_6z_7z": img_1z_3z_6z_7z, "1z_3z_7z": img_1z_3z_7z, "1z_4z": img_1z_4z, "1z_4z_5z": img_1z_4z_5z, "1z_4z_5z_6z": img_1z_4z_5z_6z, "1z_4z_5z_6z_7z": img_1z_4z_5z_6z_7z, "1z_4z_5z_7z": img_1z_4z_5z_7z, "1z_4z_6z": img_1z_4z_6z, "1z_4z_6z_7z": img_1z_4z_6z_7z, "1z_4z_7z": img_1z_4z_7z, "1z_5z": img_1z_5z, "1z_5z_6z": img_1z_5z_6z, "1z_5z_6z_7z": img_1z_5z_6z_7z, "1z_5z_7z": img_1z_5z_7z, "1z_6z": img_1z_6z, "1z_6z_7z": img_1z_6z_7z, "1z_7z": img_1z_7z, "2z": img_2z, "2z_3z": img_2z_3z, "2z_3z_4z": img_2z_3z_4z, "2z_3z_4z_5z": img_2z_3z_4z_5z, "2z_3z_4z_5z_6z": img_2z_3z_4z_5z_6z, "2z_3z_4z_5z_6z_7z": img_2z_3z_4z_5z_6z_7z, "2z_3z_4z_5z_7z": img_2z_3z_4z_5z_7z, "2z_3z_4z_6z": img_2z_3z_4z_6z, "2z_3z_4z_6z_7z": img_2z_3z_4z_6z_7z, "2z_3z_4z_7z": img_2z_3z_4z_7z, "2z_3z_5z": img_2z_3z_5z, "2z_3z_5z_6z": img_2z_3z_5z_6z, "2z_3z_5z_6z_7z": img_2z_3z_5z_6z_7z, "2z_3z_5z_7z": img_2z_3z_5z_7z, "2z_3z_6z": img_2z_3z_6z, "2z_3z_6z_7z": img_2z_3z_6z_7z, "2z_3z_7z": img_2z_3z_7z, "2z_4z": img_2z_4z, "2z_4z_5z": img_2z_4z_5z, "2z_4z_5z_6z": img_2z_4z_5z_6z, "2z_4z_5z_6z_7z": img_2z_4z_5z_6z_7z, "2z_4z_5z_7z": img_2z_4z_5z_7z, "2z_4z_6z": img_2z_4z_6z, "2z_4z_6z_7z": img_2z_4z_6z_7z, "2z_4z_7z": img_2z_4z_7z, "2z_5z": img_2z_5z, "2z_5z_6z": img_2z_5z_6z, "2z_5z_6z_7z": img_2z_5z_6z_7z, "2z_5z_7z": img_2z_5z_7z, "2z_6z": img_2z_6z, "2z_6z_7z": img_2z_6z_7z, "2z_7z": img_2z_7z, "3z": img_3z, "3z_4z": img_3z_4z, "3z_4z_5z": img_3z_4z_5z, "3z_4z_5z_6z": img_3z_4z_5z_6z, "3z_4z_5z_6z_7z": img_3z_4z_5z_6z_7z, "3z_4z_5z_7z": img_3z_4z_5z_7z, "3z_4z_6z": img_3z_4z_6z, "3z_4z_6z_7z": img_3z_4z_6z_7z, "3z_4z_7z": img_3z_4z_7z, "3z_5z": img_3z_5z, "3z_5z_6z": img_3z_5z_6z, "3z_5z_6z_7z": img_3z_5z_6z_7z, "3z_5z_7z": img_3z_5z_7z, "3z_6z": img_3z_6z, "3z_6z_7z": img_3z_6z_7z, "3z_7z": img_3z_7z, "4z": img_4z, "4z_5z": img_4z_5z, "4z_5z_6z": img_4z_5z_6z, "4z_5z_6z_7z": img_4z_5z_6z_7z, "4z_5z_7z": img_4z_5z_7z, "4z_6z": img_4z_6z, "4z_6z_7z": img_4z_6z_7z, "4z_7z": img_4z_7z, "5z": img_5z, "5z_6z": img_5z_6z, "5z_6z_7z": img_5z_6z_7z, "5z_7z": img_5z_7z, "6z": img_6z, "6z_7z": img_6z_7z, "7z": img_7z, "none_z": img_none_z}
const NAMES = {"1z": "Swapnil", "2z": "Mindren", "3z": "Zack", "4z": "James", "5z": "Mihir", "6z": "Ashley", "7z": "Lucy"}
const mql = window.matchMedia(`(min-width: 800px)`);

class Main extends Component {
    constructor(props) {
        super(props);
        console.log(Object.keys(NAMES));
        this.DEFAULT_TOGGLE = true
        let sizeToggles = [];
        for (let i = 0; i < 8; i++) {
            sizeToggles.push(this.DEFAULT_TOGGLE)
        }
        this.state = { 
            sidebarDocked: true,
            sidebarOpen: true,
            toggles: {"1z": this.DEFAULT_TOGGLE, "2z": this.DEFAULT_TOGGLE, "3z": this.DEFAULT_TOGGLE, "4z": this.DEFAULT_TOGGLE, "5z": this.DEFAULT_TOGGLE, "6z": this.DEFAULT_TOGGLE, "7z": this.DEFAULT_TOGGLE},
            sizeToggles: sizeToggles,
        }
 
        this.mediaQueryChanged = this.mediaQueryChanged.bind(this);
        this.onSetSidebarOpen = this.onSetSidebarOpen.bind(this);
   }
    componentWillMount() {
        // mql.addListener(this.mediaQueryChanged);
    }

    componentWillUnmount() {
        // this.state.mql.removeListener(this.mediaQueryChanged);
    }

    onSetSidebarOpen(open) {
        this.setState({ sidebarOpen: open });
    }

    mediaQueryChanged() {
        this.setState({ sidebarDocked: mql.matches, sidebarOpen: false });
    }

    onToggleChange(val) {
        if (val.length > 1) {
            const newToggles = {...this.state.toggles};
            newToggles[val] = !newToggles[val];
            this.setState({toggles:newToggles});
        } else {

        }
        
    }

    getFilteredImages() {
        console.log(this.state.toggles);
        return Object.keys(IMGS).filter(img => {
            for (let name of Object.keys(this.state.toggles)) {
                if (this.state.toggles[name] && img.includes(name)) {
                    return true;
                }
            }
            return false;
        });
    }

    render() {
        let images = this.getFilteredImages();
        return (
            <>
                <div className="Main">
                        <Sidebar 
                            className="Main-sidebar"
                            sidebar={
                                <>
                                <div className="Main-sidebar">
                                    <b>Names</b>
                                    <div className="Main-sidebarSection">
                                        {Object.keys(NAMES).map((key, index) => (
                                            <div className="Main-toggleCaption">
                                                {NAMES[key]}
                                                <ToggleButton 
                                                    onChange={()=>{this.onToggleChange(key)}}
                                                    defaultChecked={this.DEFAULT_TOGGLE}
                                                />
                                            </div>))}
                                    </div>
                                    <b>Group Size</b>
                                    <div className="Main-sidebarSection">
                                        {[0,1,2,3,4,5,6,7].map((_, index) => (
                                            <div className="Main-toggleCaption">
                                                {index}
                                                <ToggleButton 
                                                    onChange={()=>{this.onToggleChange(index)}}
                                                    defaultChecked={this.DEFAULT_TOGGLE}
                                                />
                                            </div>))}
                                    </div>
                                </div>
                                </>
                            }
                            open={this.state.sidebarOpen}
                            onSetOpen={this.onSetSidebarOpen}
                            docked={this.state.sidebarDocked}
                        />
                    <div className="Main-gallery">
                        {images.map((key, index) => (
                            <div className="Main-galleryImageContainer">
                                <img 
                                    className="Main-galleryImage"
                                    src={IMGS[key]} alt="info"
                                />
                                <div className="Main-galleryImageCaption">
                                    {key}
                                </div>
                            </div>
                        ))}
                    </div>
                    
                </div>
                
            </>
        );
        }
  }
  
  export default Main;